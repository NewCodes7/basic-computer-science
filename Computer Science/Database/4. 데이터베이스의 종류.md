# 데이터베이스의 종류

## 관계형 데이터베이스

- 의미: 행과 열을 가지는 표 형식 데이터를 저장하는 형태의 데이터베이스
    - 예시: MySQL, PostgreSQL, 오라클, SQL server, MSSQL
- 언어: 표준 SQL 언어를 사용하지만, 각각의 제품에 특화시킨 SQL을 사용한다.
    - 예시: 오라클(PL/SQL), SQL server(T-SQL), MySQL(SQL)

### 데이터베이스 랭킹

<img width="600" alt="image" src="https://github.com/BCS-study/basic-computer-science/assets/123712285/c3641da1-4c1d-4627-b1d7-cdf1aed2d717">

- 참고: 해당 순위의 기준
    - 웹 사이트 언급 횟수
    - 검색 빈도
    - 기술 토론 빈도
    - DBMS별 구인
    - 전문가 인맥

### MySQL

- 개요
    - 대부분의 운영체제와 호환되며 현재 많이 사용하는 오픈소스 데이터베이스이다.
    - C, C++로 만들어졌으며, 대용량 데이터베이스를 위해 설계되었다.
    - 클라이언트-서버 모델을 통해 동작한다.
- MySQL의 스토리지 엔진 아키텍처
    
    <img width="600" alt="image" src="https://github.com/BCS-study/basic-computer-science/assets/123712285/2d777a43-1aa7-433e-9525-6c3d02dc0c0f">
    
    - 스토리지 엔진
        - 실제 데이터를 디스크 스토리지에 저장하거나, 디스크 스토리지로부터 데이터를 읽어오는 부분을 전담한다.
        - 모듈식 아키텍처로 쉽게 스토리지 엔진을 바꿀 수 있다.
        - MySQL 서버에서 스토리지 엔진은 여러 개를 동시에 사용할 수 있다.
        - 데이터 웨어하우징, 트랜잭션 처리, 고가용성 처리에 강점을 두고 있다.
        
        > 데이터 웨어하우스: 사용자의 의사 결정에 도움을 주기 위하여 기간시스템의 데이터베이스에 축적된 데이터를 공통의 형식으로 변환해서 관리하는 데이터베이스
        > 
        
        > 고가용성: **서버, 네트워크, 프로그램 등의 정보 시스템이 상당히 오랜 기간 동안 지속적으로 정상 운영이 가능한 성질**
        > 
    - 스토리지 엔진 위에는 커넥터 API 및 서비스 계층을 통해 쉽게 상호작용이 가능하다.
- 장점
    - 오픈 소스: MySQL은 오픈 소스이므로 무료로 사용할 수 있다.
    - 커뮤니티 지원: MySQL은 가장 널리 사용되는 RDBMS 중 하나로 개발자, 사용자 및 기여자로 구성된 방대하고 활발한 커뮤니티를 가지고 있다.
    - 다양한 플랫폼 지원: MySQL은 다양한 운영 체제와 플랫폼에서 사용할 수 있습니다.
    - 확장성: MySQL은 공유, 복제 및 클러스터링과 같은 기능을 통해 수직 및 수평(여러 서버에 걸쳐 데이터 분산)으로 효율적으로 확장할 수 있다.
    - 성능: MySQL은 특히 읽기가 많은 애플리케이션에서 높은 성능으로 유명하다. 대규모 데이터 세트에서도 빠른 응답 시간을 제공하기 위해 인덱싱, 캐싱 및 쿼리 최적화와 같은 다양한 최적화 기술을 사용한다.
    - 신뢰성: MySQL은 신뢰성과 안정성으로 유명하다. ACID(Atomicity, Consistency, Isolation, Durability) 준수, 트랜잭션 지원, 충돌 복구 메커니즘 등의 기능을 통해 데이터 무결성을 보장하므로 미션 크리티컬 애플리케이션에 적합하다.
- 단점
    - 제한된 기능: MySQL은 기능이 풍부하지만 다른 엔터프라이즈 수준 데이터베이스에 비해 일부 고급 기능이 부족할 수 있다. 예를 들어, 추가 플러그인이나 확장 없이 복잡한 데이터 유형, 전체 텍스트 검색 또는 고급 분석 기능을 내장 지원하지 않을 수 있다.
    - 확장성 문제: MySQL은 확장성 옵션을 제공하지만 대규모 MySQL 배포를 관리하고 확장하려면 복잡할 수 있으며 데이터베이스 관리 및 성능 튜닝에 대한 전문 지식이 필요할 수 있다. 특히 수평적 확장은 데이터 일관성 및 동기화와 관련된 복잡성을 유발할 수 있다.
    - 스토리지 엔진 제한: MySQL의 아키텍처는 데이터 저장 및 검색을 위해 스토리지 엔진에 의존한다. 기본 InnoDB 엔진은 대부분의 사용 사례에 적합하지만 MyISAM 또는 MEMORY와 같은 다른 엔진은 기능, 성능 또는 내구성 측면에서 제한이 있어 특정 애플리케이션에 영향을 줄 수 있다.
    - 라이센스 및 지원: MySQL 자체는 오픈 소스이지만 일부 고급 기능, 관리 도구 및 엔터프라이즈 지원 서비스는 오라클과 같은 MySQL 공급업체의 유료 구독 또는 라이센스를 요구할 수 있다. 이는 특정 요구 사항이 있는 조직의 총 소유 비용을 증가시킬 수 있다.
- 특징
    - MyISAM 인덱스 압축 기술
    - B-트리 기반의 인덱스
    - 스레드 기반의 메모리 할당 시스템
    - 매우 빠른 조인
    - 최대 64개의 인덱스
    - 롤백, 커밋, 이중 암호 지원 보안 등의 기능
    - 쿼리 캐시 지원: 쿼리 문에 대한 전체 결과 집합을 저장하기에 사용자가 작성한 쿼리가 캐시에 있는 것과 동일하다면 서버는 캐시의 출력을 바로 표시

### PostgreSQL

- 개요: MySQL 다음으로 개발자들이 선호하는 데이터베이스로 널리 인정받고 있다.
- 특징
    - 디스크 조각이 차지하는 영역을 회수할 수 있는 장치인 VACUUM
        - 참고 읽기 자료: https://techblog.woowahan.com/9478/
    - 최대 테이블의 크기는 32TB이며 SQL뿐만 아니라 JSON을 이용해서 데이터에 접근할 수 있다.
    - 지정 시간에 복구하는 기능, 로깅, 접근 제어, 중첩된 트랜잭션, 백업 등이 가능하다.

## NoSQL 데이터베이스

<img width="500" alt="image" src="https://github.com/BCS-study/basic-computer-science/assets/123712285/cebd9c38-dc13-4674-9497-7ac25e410c5b">

- 의미: SQL을 사용하지 않는 데이터베이스를 말하며, 대표적으로 MongoDB와 redis 등이 있다.
    - Not Only SQL이라는 슬로건에서 생겨났다.
    - 초기엔 주로 **표준화된 구조적 질의 언어가 없는** 데이터베이스(No SQL) 또는 **관계를 갖지 않는** 데이터베이스(Nonrelational Operational Database SQL)로 정의하였다.
    - 하지만 현재는 앞의 두 가지 의미 외에도 SQL뿐만 아니라, 여러 가지 기능을 제공(Not Only SQL)한다는 의미로 일반화되었습니다.

### NoSQL 종류

<img width="600" alt="image" src="https://github.com/BCS-study/basic-computer-science/assets/123712285/426406fa-6fdd-4f8f-9dd4-a5a14d2fd743">

- 키-값 데이터베이스: 키와 값으로 구성된 배열구조의 데이터베이스로 NoSQL 데이터베이스 중 가장 단순한 구조입니다.
- 도큐먼트 데이터베이스: 필드와 값의 형태로 구성된 데이터를 JSON 포맷으로 관리하는 데이터베이스로 NoSQL 데이터베이스 중 가장 인기가 높습니다.
- 칼럼 패밀리 데이터베이스: 칼럼과 로우로 구성된 데이터베이스로 칼럼은 이름과 값으로 구성되고 로우는 각기 다른 칼럼으로 구성이 가능합니다.
- 그래프 데이터베이스: 노드와 관계로 구성된 데이터베이스로 근접한 객체를 모델링할 목적으로 설계되었습니다.

### NoSQL 특징

<img width="500" alt="image" src="https://github.com/BCS-study/basic-computer-science/assets/123712285/d86ddb64-6dba-4d18-8672-835c0b5d21fa">

- 유연성: 스키마 선언 없이 필드의 추가 및 삭제가 자유로운 Schema-less 구조입니다.
- 확장성: 스케일 아웃에 의한 서버 확장이 용이합니다.
- 고성능: 대용량 데이터를 처리하는 성능이 뛰어납니다.
- 가용성: 여러 대의 백업 서버 구성이 가능하여 장애 발생 시에도 무중단 서비스가 가능합니다.

### **NoSQL DB vs 관계형 DB 비교**

| 항목 | NoSQL DB | 관계형 DB |
| --- | --- | --- |
| 적합업무 | - 오프라인에서 정형 및 비정형 데이터 분석 업무- 초당 동시 처리가 중요한 업무- 로그 및 이력 등의 단순 기록형 업무 | - 데이터 무결성 및 일관성이 중요한 트랜잭션 업무- 온라인에서 다양한 집계 및 통계를 분석하는 업무- 복잡한 계산 및 실시간 데이터 정합성이 필요한 업무 |
| 데이터 모델 | - 서비스에 맞는 DB 선택이 중요함- 반정 규화에 의한 설계를 기본으로 함- 비정형화 스키마 구조로 미리 스키마를 선언하지 않음 | - 엔티티 및 각 엔티티 간 관계를 정의함- 엔티티 정의 시 정규화에 의한 설계가 중요함- 테이블\, 칼럼 등 DB요소에 대한 스키마를 엄격히 관리함 |
| 성능 | - 클러스터 크기, 네트워크 및 애플리케이션에 의해 성능이 결정됨 | - 성능 향상을 위해서는 성능 최적화 작업이 필요함 |
| 인터페이스 | - 쿼리 외 다양한 API를 통한 데이터 저장 및 검색이 가능함 | - SQL을 통해서만 데이터 저장 및 검색이 가능함 |
| 장점 | - 쿼리 프로세싱이 단순화되어 대용량 데이터 처리 성능이 향상됨 | - 데이터 중복 배제로 데이터 이상 발생 및 용량 증가를 최소화함 |
| 단점 | - 데이터 중복에 의해 데이터 일관성이 저하되고 용량이 증가함 | - 조인이 복잡한 경우 쿼리 프로세싱도 복잡해져 성능이 저하됨 |

### MongoDB

- 개요
    - 거대한 데이터베이스라는 의미의 Hu**mongo**us(거대한) Database를 줄인 mongoDB로 명명되었다.
- 특징
    - JSON을 통해 데이터 접근이 가능하다.
    - Binary JSON 형태(BSON)로 데이터가 저장된다.
    - 와이어드타이거 엔진이 기본 스토리지 엔진으로 장착된 키-값 데이터 모델에서 확장된 도큐먼트 기반이다.
    - 확장성이 뛰어나며 빅데이터를 저장할 때 성능이 좋고 고가용성과 샤딩, 레플리카셋을 지원한다.
    - 스키마를 정해놓지 않고 데이터를 삽입할 수 있다. → 다양한 도메인의 데이터베이스를 기반으로 분석하거나 로깅 등을 구현할 때 강점을 보인다.
- 기본키 생성
    - 도큐먼트를 생성할 때마다 다른 컬렉션에서 중복된 값을 지니기 힘든 유니크한 값인 ObjectID가 생성된다.
    - 유닉스 시간 기반의 타임스탬프, 랜덤 값, 카운터로 이루어졌다.

### redis

- 개요: 인메모리 데이터베이스이자 키-값 데이터 모델 기반의 데이터베이스
- 기본적인 데이터 타입은 문자열(string)이며 최대 512MB까지 저장 가능하다. 이외에도 set, hash 등을 지원한다.
- 사용 맥락
    - pub/sub 기능을 통해 채팅 시스템
    - 다른 데이터베이스 앞단에 두어 사용하는 캐싱 계층
    - 단순한 키-값이 필요한 세션 정보 관리
    - 정렬된 셋(sorted set) 자료 구조를 이용한 실시간 순위표 서비스

## 레퍼런스

- 이미지 출처
    - mysql 아키텍처: https://dev.mysql.com/doc/refman/8.0/en/pluggable-storage-overview.html
    - NoSQL: https://meetup.nhncloud.com/posts/274
- 본문 출처
    - NoSQL: https://meetup.nhncloud.com/posts/274
    - 데이터 웨어하우스: [https://ko.wikipedia.org/wiki/데이터_웨어하우스](https://ko.wikipedia.org/wiki/%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%9B%A8%EC%96%B4%ED%95%98%EC%9A%B0%EC%8A%A4)
    - 고가용성: [https://ko.wikipedia.org/wiki/고가용성](https://ko.wikipedia.org/wiki/%EA%B3%A0%EA%B0%80%EC%9A%A9%EC%84%B1)
    - MySQL 장단점
        - https://www.w3schools.blog/mysql-advantages-disadvantages
        - https://www.linkedin.com/pulse/importance-mysql-database-advantages-disadvantages-influence-bk-xhfce/